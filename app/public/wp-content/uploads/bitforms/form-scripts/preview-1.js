 if(!window.bf_globals){ window.bf_globals={};}["bitforms_1_1"].forEach(function(contentId){const form=document.getElementById(contentId);if(!form){ delete window.bf_globals[contentId];return;}if(!window.bf_globals[contentId]){window.bf_globals[contentId]={inits:{},contentId: contentId};}else{ window.bf_globals[contentId].inits={};window.bf_globals[contentId].contentId=contentId;}});var bfSelect=function(){"use strict";return function(e,t){return(t||document).querySelector(e)}}();var bfReset=function(){"use strict";return function(e,t=!1){if(t){const t=new CustomEvent("bf-form-reset",{detail:{formId:e}});bfSelect(`#form-${e}`).dispatchEvent(t)}const r=window.bf_globals[e];bfSelect(`#form-${e}`).reset(),localStorage.setItem("bf-entry-id",""),"undefined"!=typeof resetPlaceholders&&resetPlaceholders(r),"undefined"!=typeof customFieldsReset&&customFieldsReset(r),"undefined"!=typeof resetOtherOpt&&resetOtherOpt(),window.bf_globals[e].modifiedFields=r.fields,Object.keys(r.fields).forEach((t=>{const r=bfSelect(`#form-${e} .${t}-err-wrp`);r&&(setStyleProperty(r,"height","0px"),setStyleProperty(r,"opacity",0),setStyleProperty(bfSelect(`.${t}-err-msg`,r),"display","none"))})),r.gRecaptchaSiteKey&&"v2"===r.gRecaptchaVersion&&window?.grecaptcha?.reset(),r.turnstileSiteKey&&window?.turnstile?.reset()}}();var setBFMsg=function(){"use strict";return function(e){if("undefined"!=typeof handleConversationalFormMsg&&handleConversationalFormMsg(e))return;let t=bfSelect(`#bf-form-msg-wrp-${e.contentId}`);t.innerHTML=`<div class="bf-form-msg deactive ${e.type} scroll">${e.msg}</div>`,t=bfSelect(".bf-form-msg",t);let s=5e3;e.msgId&&(t=bfSelect(`.msg-content-${e.msgId} .msg-content`,bfSelect(`#${e.contentId}`)),t.innerHTML=e.msg,t=bfSelect(`.msg-container-${e.msgId}`,bfSelect(`#${e.contentId}`)),s=e.duration),t&&t.classList.replace("active","deactive"),t.classList.contains("scroll")&&scrollToElm(t),t&&(setTimeout((()=>{t.classList.replace("deactive","active")}),100),s&&setTimeout((()=>{t.classList.replace("active","deactive")}),s))}}();var scrollToElm=function(){"use strict";const t=function(t){(function(t,e=10){const n=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth;return n.top>=e&&n.left>=e&&n.bottom<=o-e&&n.right<=i-e})(t)||(function(t){let e=t.parentElement;for(;e&&e!==document.body;){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth){e.scrollIntoView({behavior:"smooth"});break}e=e.parentElement}}(t),t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))},e=function(t,e){let n;const o=function(...e){clearTimeout(n),n=setTimeout((()=>t(...e)),300)};return o.cancel=function(){clearTimeout(n)},o}(t);return function(n,{immediate:o=!1}={}){e.cancel(),o?t(n):e(n)}}();var getFldKeyAndRowIndx=function(){"use strict";return function(n){const t=n.match(/([^\[]+)(?:\[(\d+)\])?/);return t?[t[1],t[2]||""]:[n]}}();var moveToFirstErrFld=function(){"use strict";return function(t,r=[]){const n=t?.layout||{},e=t?.nestedLayout||{},o=Array.isArray(n)&&n.length>1,i=Array.isArray(n)?n:[{layout:n}];let s=-1;const c=i.reduce(((t,n,o)=>{const i=n.layout.lg.reduce(((t,r)=>{const n=r.i;if(n in e){const r=e[n].lg.map((t=>t.i));return[...t,n,...r]}return[...t,n]}),[]),c=i.find((t=>r.includes(t)));return-1===s&&c&&(s=o),[...t,...i]}),[]);o&&s>-1&&(t.inits.multi_step_form.step=s+1),t.inits.conversational_form&&(t.inits.conversational_form.activeFieldStep=r[0]),c.some((n=>r.some((r=>{const[e,o]=getFldKeyAndRowIndx(r);if(n===e){const r=o?`.rpt-index-${o}`:"",e=bfSelect(`#form-${t.contentId} ${r} .btcd-fld-itm.${n}`);return scrollToElm(e),!0}return!1}))))}}();var bfValidationErrMsg=function(){"use strict";return function(e,t){const{data:r}=e;r&&"string"==typeof r?setBFMsg({contentId:t,msg:r,error:!0,show:!0,type:"error"}):r&&(void 0!==r.$form&&(setBFMsg({contentId:t,msg:r.$form.message,msgId:r.$form.msg_id,duration:r.$form.msg_duration,type:"error"}),delete r.$form),Object.keys(r).length>0&&function(e,t){const r=Object.keys(e);r.forEach((r=>{const[o,s]=getFldKeyAndRowIndx(r),y=bfSelect(`#form-${t} ${s?`.rpt-index-${s}`:""} .${o}-err-wrp`),i=bfSelect(`.${o}-err-txt`,y),n=bfSelect(`.${o}-err-msg`,y);let l=!1;try{l="grid"===getComputedStyle(y).display,l&&(y.style.removeProperty("opacity"),y.style.removeProperty("height"),n.style.removeProperty("display"))}catch(e){l=!1}i.innerHTML=e[r],l?setStyleProperty(y,"grid-template-rows","1fr"):setTimeout((()=>{n.style.removeProperty("display"),setStyleProperty(y,"height",`${i.offsetHeight}px`),setStyleProperty(y,"opacity",1)}),100)})),moveToFirstErrFld(window?.bf_globals?.[t],r)}(r,t))}}();var setHiddenFld=function(){"use strict";return function e(t,n){let a=bfSelect(`input[name="${t.name}"]`,n);return a||(a=document.createElement("input"),a.type="text",a.className="d-none",n.append(a)),"b_h_t"===t.name&&(bfSelect(`input[name="${a.value}"]`,n)?.remove(),e({name:t.value,required:""},n)),Object.keys(t).forEach((e=>{a.setAttribute(e,t[e])})),a}}();var submit_form=function(){"use strict";function e(e,t){const o=new URL(e?.ajaxURL),n=e?.entryId?"bitforms_update_form_entry":"bitforms_submit_form";return o.searchParams.append("action",n),e?.entryId&&(o.searchParams.append("_ajax_nonce",e.nonce||""),o.searchParams.append("entryID",e.entryId),o.searchParams.append("formID",e.formId),o.searchParams.append("entryToken",e.entryToken)),fetch(o,{method:"POST",body:t})}function t(e,t,n){e.then((e=>new Promise(((o,n)=>{if(e.staus>400){const o=new CustomEvent("bf-form-submit-error",{detail:{formId:t,errors:result.data}});bfSelect(`#form-${t}`).dispatchEvent(o),500===e.staus?n(new Error("Mayebe Internal Server Error")):n(e.json())}else o(e.json())})))).then((e=>{const a=new CustomEvent("bf-form-submit-success",{detail:{formId:t,entryId:e.entryId,formData:n}});bfSelect(`#form-${t}`).dispatchEvent(a);let r=null,s=null,c="",d=1e3;const i=window.bf_globals[t];if(void 0!==e&&e.success){const o=bfSelect(`#form-${t}`);bfReset(t),"object"==typeof e.data?(o&&e?.data?.hidden_fields?.map((e=>{setHiddenFld(e,o)})),r=e.data.redirectPage,e.data.cron&&(s=e.data.cron),e.data.cronNotOk&&(s=e.data.cronNotOk),e.data.new_nonce&&(c=e.data.new_nonce),setBFMsg({contentId:t,msgId:e.data.msg_id,msg:e.data.message,duration:e.data.msg_duration,show:!0,type:"success",error:!1}),d=Number(e.data.msg_duration||1e3)):setBFMsg({contentId:t,msg:e.data,type:"success",show:!0,error:!1}),localStorage.removeItem(`bitform-partial-form-${i.formId}`);const n=bfSelect('input[name="entryID"]',o);n&&n.remove(),delete i.entryId}else{const o=new CustomEvent("bf-form-submit-error",{detail:{formId:t,errors:e.data}});bfSelect(`#form-${t}`).dispatchEvent(o),bfValidationErrMsg(e,t)}if(function(e,t,o){const n=window.bf_globals[o];if(e)if("string"==typeof e){const t=new URL(e);t.protocol!==window.location.protocol&&(t.protocol=window.location.protocol),fetch(t)}else{const o=new URL(n.ajaxURL);o.searchParams.append("action","bitforms_trigger_workflow");const a={cronNotOk:e,token:t||n.nonce,id:n.appID};fetch(o,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))}}(s,c,t),r){const e=setTimeout((()=>{window.location=decodeURI(r),e&&clearTimeout(e)}),d)}o(t,!1)})).catch((e=>{const n=e?.message?e.message:"Unknown Error";setBFMsg({contentId:t,msg:n,show:!0,type:"error",error:!0}),o(t,!1)}))}function o(e,t){const o=bfSelect('button[type="submit"]',bfSelect(`#form-${e}`));o&&(o.disabled=t);const n=bfSelect('button[type="submit"] span',bfSelect(`#form-${e}`));n&&n.classList.toggle("d-none")}return function(n=null){(n?[n]:Object.keys(window.bf_globals)).forEach((n=>{const a=bfSelect(`#form-${n}`);a&&(a.addEventListener("submit",(n=>{!function(n){n.preventDefault();const a=n.target.id.slice(n.target.id.indexOf("-")+1);if("undefined"!=typeof validateForm&&!validateForm({form:a})){const e=new CustomEvent("bf-form-validation-error",{detail:{formId:a,fieldId:"",error:""}});return void n.target.dispatchEvent(e)}o(a,!0);let r=new FormData(n.target);const s=window.bf_globals[a];"undefined"!=typeof advancedFileHandle&&(r=advancedFileHandle(s,r)),"undefined"!=typeof decisionFldHandle&&(r=decisionFldHandle(s,r)),s.GCLID&&r.set("GCLID",s.GCLID);const c=[];Object.entries(s?.fields||{}).forEach((e=>{e[1]?.valid?.hide&&c.push(e[0])})),c.length&&r.append("hidden_fields",c),"v3"===s?.gRecaptchaVersion&&s?.gRecaptchaSiteKey?grecaptcha.ready((()=>{grecaptcha.execute(s.gRecaptchaSiteKey,{action:"submit"}).then((o=>{r.append("g-recaptcha-response",o),t(e(s,r),a,r)}))})):t(e(s,r),a,r)}(n)})),bfSelect('button[type="reset"]',a)?.addEventListener("click",(()=>bfReset(a.id.replace("form-",""),!0))))})),document.querySelectorAll(".msg-backdrop,.bf-msg-close").forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&(t.stopPropagation(),bfSelect(`#${e.dataset.contentid} .msg-container-${e.dataset.msgid}`).classList.replace("active","deactive"))}))})),localStorage.setItem("bf-entry-id","")}}();var setStyleProperty=function(){"use strict";return function(t,e,r){t?.style&&t.style.setProperty(e,r,"important")}}();var customFieldsReset=function(){"use strict";return function(e){Object.entries(e.inits||{}).map((([t,s])=>{if(s?.reset){const i=t.replace(/\[\w+\]/g,""),n=e.fields[i];s.reset(n?.val)}}))}}();var isFormValidatedWithoutError=function(){"use strict";return async function(e,{step:t}={}){if("undefined"!=typeof validateForm&&!validateForm({form:e},{step:t}))return new Promise(((e,t)=>{t(new Error("Form is not valid"))}));const a=document.getElementById(e);a.classList.add("pos-rel","form-loading");let n=new FormData(document.getElementById(`form-${e}`));const o=window.bf_globals[e],{grecaptcha:r}=window;if("v3"===o?.gRecaptchaVersion&&o?.gRecaptchaSiteKey){const e=await r.execute(o?.gRecaptchaSiteKey,{action:"submit"});n.append("g-recaptcha-response",e)}"undefined"!=typeof advancedFileHandle&&(n=advancedFileHandle(o,n)),o.GCLID&&n.set("GCLID",o.GCLID),t&&n.set("form-current-step",t);const i=[];Object.entries(o?.fields||{}).forEach((e=>{e[1]?.valid?.hide&&i.push(e[0])})),i.length&&n.append("hidden_fields",i);const s=new URL(o.ajaxURL);s.searchParams.append("action","bitforms_before_submit_validate");const d=await fetch(s,{method:"POST",body:n}),c=await d.json();return a.classList.remove("pos-rel","form-loading"),c.success?new Promise((e=>{e(!0)})):(bfValidationErrMsg(c,e),new Promise(((e,t)=>{t(new Error("Form is not valid"))})))}}();var saveFormProgress=function(){"use strict";return async function(e){const a=e?[e]:Object.keys(window?.bf_globals||{}),n={};return await Promise.all(a.map((async e=>{const a=bfSelect(`#form-${e}`),t=window?.bf_globals?.[e];if(a){const r=new URL(t?.ajaxURL),d="bitforms_save_partial_form_progress";r.searchParams.append("action",d),t?.entryId&&(r.searchParams.append("_ajax_nonce",t.nonce||""),r.searchParams.append("entryID",t.entryId),r.searchParams.append("formID",t.formId),r.searchParams.append("entryToken",t.entryToken));let s=new FormData(a);"undefined"!=typeof advancedFileHandle&&(s=advancedFileHandle(t,s)),t.GCLID&&s.set("GCLID",t.GCLID);const o=[];Object.entries(t?.fields||{}).forEach((e=>{e[1]?.valid?.hide&&o.push(e[0])})),o.length&&s.append("hidden_fields",o);const i=await fetch(r,{method:"POST",body:s,keepalive:!0}),c=await i.json();if(n[e]=c,c?.success){if("user_id"in(c?.data||{})&&!c?.data?.user_id){const e=c.data.fields;e.entryId=c.data.entry_id,localStorage.setItem(`bitform-partial-form-${t.formId}`,JSON.stringify(e))}c?.data?.entry_id&&(setHiddenFld({name:"entryID",value:c.data.entry_id,type:"number"},a),bf_globals[e].entryId=c.data.entry_id),c?.data?.entry_token&&(bf_globals[e].entryToken=c.data.entry_token)}}}))),n}}();var requiredFldValidation=function(){"use strict";return r=>r?.valid?.req?"req":""}();var generateBackslashPattern=function(){"use strict";return t=>(t||"").split("$_bf_$").join("\\")}();var bit_multi_step_form=function(){"use strict";class t{#t=null;#e=[];#s=[];#r=[];#i=1;#n=1;#a=!0;#h=!0;#o=!0;#l=!0;#d=!0;#p="";#c=0;#u=[];constructor(t,e){this.#t="string"==typeof t?document.querySelector(t):t,t&&(this.#S(e),this.init())}init(){this.#e=Array.from(this.#f(".next-step-btn")),this.#s=Array.from(this.#f(".prev-step-btn")),this.#m(),this.#v(),this.#g(),this.#b()}#m(){const t=this.#E(1),e=this.#y(".prev-step-btn",t);e&&(e.disabled=!0,e.classList.add("v-hide"),this.#s=this.#s.filter((t=>!1===t.isEqualNode(e))));const s=this.#f(`._frm-b${this.#c}-stp-cntnt[data-step]`).length,r=this.#E(s),i=this.#y(".next-step-btn",r);i&&(i.disabled=!0,i.classList.add("v-hide"),this.#e=this.#e.filter((t=>!1===t.isEqualNode(i))))}#I(t){t.preventDefault();const e=t.target.closest(`._frm-b${this.#c}-stp-hdr`);if(e.classList.contains("disabled"))return;const s=Number(e.getAttribute("data-step"));this.#i!==s&&(this.#h&&s>this.#i&&this.#u.push(this.#i),this.#i=s,this.#C(s))}#b(){if(!this.#l)return;const t=this.#f(`._frm-b${this.#c}-stp-hdr`);t&&t.forEach((t=>{const e=this.#y(`._frm-b${this.#c}-stp-icn-cntn`,t);e&&this.#w(e,"click",(t=>{this.#I(t)}));const s=this.#y(`._frm-b${this.#c}-stp-hdr-lbl`,t);s&&this.#w(s,"click",(t=>{this.#I(t)}))}))}#S(t){"defaultStep"in t&&(this.#n=t.defaultStep),"validateOnStepChange"in t&&(this.#a=t.validateOnStepChange),"maintainStepHistory"in t&&(this.#h=t.maintainStepHistory),"saveProgress"in t&&(this.#o=t.saveProgress),"stepHeaderSwitchable"in t&&(this.#l=t.stepHeaderSwitchable),"showPercentage"in t&&(this.#d=t.showPercentage),this.#p=t.contentId,this.#c=this.#L()}#y(t,e){return(e||this.#t).querySelector(t)}#f(t,e){return(e||this.#t).querySelectorAll(t)}#w(t,e,s){t.addEventListener(e,s),this.#r.push({elm:t,event:e,handler:s})}#E(t=this.#i){return this.#y(`._frm-b${this.#c}-stp-cntnt[data-step="${t}"]`)}#$(){if(!this.#E(this.#i+1))return!1}#_(){if(!this.#E(this.#i-1))return!1}#L(){return Number(this.#p.split("_")[1])}#H(t){const e=window.bf_globals[this.#p].layout[t-1];if(!e)return;const s=e.layout.lg[0].i,r=this.#y(`.btcd-fld-itm.${s}`);setTimeout((()=>{r&&scrollToElm(r,{immediate:!0})}),100)}#B(t){this.#f(`._frm-b${this.#c}-stp-hdr`).forEach((e=>{e.classList.remove("completed","active");const s=Number(e.getAttribute("data-step"));s<t?e.classList.add("completed"):s===t&&e.classList.add("active")}))}#P(t){const e=this.#f(`._frm-b${this.#c}-stp-cntnt:not([data-step="${t}"])`),s=this.#y(`._frm-b${this.#c}-progress-fill`),r=e.length+1,i=Math.round((t-1)/r*100);s&&(s.style.width=`${i}%`),this.#d&&s&&(s.textContent=`${i}%`)}#A(t){const e=this.#y(`._frm-b${this.#c}-stp-cntnt[data-step="${t}"]`);e&&(e.classList.remove("deactive"),this.#f(`._frm-b${this.#c}-stp-cntnt:not([data-step="${t}"])`).forEach((t=>{t.classList.add("deactive")})))}#C(t){this.#A(t),this.#H(t),this.#B(t),this.#P(t)}#x(t){const e=this.#E();if(!e)return;const s=this.#y(".next-step-btn",e);if(!s)return;const r=this.#y(".bf-spinner",s);t?(s.disabled=!0,r.classList.remove("d-none")):(s.removeAttribute("disabled"),r.classList.add("d-none"))}async#W(){this.#x(!0);try{"undefined"!=typeof isFormValidatedWithoutError&&await isFormValidatedWithoutError(this.#p,{step:this.#i})}catch(t){return Promise.resolve(!1)}finally{this.#x(!1)}return Promise.resolve(!0)}#F(){this.#o&&"undefined"!=typeof saveFormProgress&&saveFormProgress(this.#p)}#v(){this.#e.length&&this.#e.forEach((t=>{this.#w(t,"click",(async()=>{if(this.#a&&!await this.#W())return;this.#h&&this.#u.push(this.#i),this.#i+=1;const t=this.#y(`._frm-b${this.#c}-stp-hdr[data-step="${this.#i}"]`);t&&t.classList.remove("disabled"),this.#C(this.#i),this.#F()}))}))}get step(){return this.#i}set step(t){const e=Number(t);this.#E(e)&&(this.#h&&this.#i<e&&this.#u.push(this.#i),this.#i=e,this.#C(this.#i))}#g(){this.#s.length&&this.#s.forEach((t=>{this.#w(t,"click",(()=>{this.#h?this.#i=this.#u.pop():this.#i>0&&(this.#i-=1),this.#C(this.#i)}))}))}destroy(){}#N(){this.#r.forEach((({elm:t,event:e,handler:s})=>{t.removeEventListener(e,s)}))}reset(){if(this.step=this.#n||1,this.#N(),this.#a){const t=this.#f(`._frm-b${this.#c}-stp-hdr:not([data-step="1"])`);t&&t.forEach((t=>t.classList.add("disabled")))}this.init()}}return function(e=null){(e?[e]:Object.keys(window?.bf_globals||{})).forEach((e=>{const s=window.bf_globals[e],r=s.formInfo?.multiStepSettings;if(r){const{formId:i}=s,n=bfSelect(`#form-${e}`),a=bfSelect(`._frm-b${i}-stp-cntnr`,n);s.inits.multi_step_form=new t(a,{contentId:e,...r})}}))}}();var bit_conversational_form=function(){"use strict";class t{#t=null;#e=0;#s=null;#i={};#n={};#r=null;#a=[];#o=[];#c=[];#p=[];#h=[];#l=null;#d=null;#u=0;#v=1;#f=[];#b=0;#S=null;#m=0;constructor(t,e){this.#r="string"==typeof t?document.querySelector(t):t,this.#r&&(this.#e=e.formId,this.#g(e),this.#S=this.#L(`#form-${this.#t}`),this.init(),this.#w(),this.#I(this.#u),this.#y())}init(){this.#a=this.#A(`.bc${this.#e}-step-wrapper`,this.#r),this.#o=this.#A(`.bc${this.#e}-step-wrapper .bc${this.#e}-fld`,this.#r),this.#c=this.#A(`.bc${this.#e}-step-wrapper .bc${this.#e}-btn`,this.#r),this.#l=this.#L(`.bc${this.#e}-nav-btn-up`),this.#d=this.#L(`.bc${this.#e}-nav-btn-down`),this.#h=this.#A(`.bc${this.#e}-step-wrapper input:not([type="checkbox"]):not([type="radio"]),.bc${this.#e}-step-wrapper textarea`,this.#r),this.#p=this.#A(`.bc${this.#e}-step-wrapper input[type="checkbox"],.bc${this.#e}-step-wrapper input[type="radio"]`,this.#r),this.#b=this.#s?.enable?this.#a.length-1:this.#a.length}#I(t){this.#a[this.#u].classList.remove("bc-step-fade-up","bc-step-fade-down"),this.#a[this.#u].classList.add("bc-step-deactive");const e=this.#a[t];e.classList.remove("bc-step-deactive"),t>=this.#u?e.classList.add("bc-step-fade-up"):e.classList.add("bc-step-fade-down");const s=this.#L(`.bc${this.#e}-focus-elm`,e);s&&s.focus(),this.#u=t,this.#$(),this.#C()}#k(){if(0===this.#u&&this.#s?.enable)return!0;if(this.#u===this.#b)return!0;const t=this.#a[this.#u],e=this.#L("input,textarea",t);return!(!e||"undefined"==typeof validateForm||!validateForm({input:e}))}#C(){0===this.#u?this.#F(this.#l,"disabled"):this.#B(this.#l,"disabled"),this.#u===this.#b?this.#F(this.#d,"disabled"):this.#B(this.#d,"disabled")}#g(t){if(t){const{contentId:e,navigationSettings:s}=t;this.#t=e,this.#n=s,this.#s=t?.stepListObject?.welcomePage}}#$(){const t=this.#L(`.bc${this.#e}-progress-lbl`),e=this.#L(`.bc${this.#e}-progress-fill`);let s=this.#n.progressLabel;const i=Math.max(0,this.#s?.enable?this.#u-1:this.#u),n=Math.ceil(i/this.#b*100);t&&(s=s.replace("${bc-step}",i),s=s.replace("${bc-total-steps}",this.#b),s=s.replace("${bc-percent}",n),t.innerHTML=s),e&&(e.style.width=`${n}%`)}#w(){this.#c.forEach(((t,e)=>{e!==this.#b&&this.#E("click",t,(t=>{t.preventDefault(),this.#v=this.#u+1,this.#I(this.#v)})),this.#E("keydown",t,(t=>{t.shiftKey||9!==t.keyCode||(t.preventDefault(),this.#v=this.#u+1,this.#I(this.#v))}))})),this.#l&&this.#E("click",this.#l,(t=>{t.preventDefault(),this.#I(this.#u-1)})),this.#d&&this.#E("click",this.#d,(t=>{t.preventDefault(),this.#I(this.#u+1)})),this.#h.forEach((t=>{this.#E("keydown",t,(t=>{t.shiftKey&&9===t.keyCode&&(t.preventDefault(),this.#I(this.#u-1)),13===t.keyCode&&(t.preventDefault(),"undefined"!=typeof validateForm&&validateForm({input:t.target})&&this.#u<this.#b&&(this.#v=this.#u+1,this.#I(this.#v)))})),this.#E("input",t,(t=>{if("undefined"!=typeof validateForm){const e=this.#x(`.bc${this.#e}-step-wrapper`,t.target),s=this.#L(`.bc${this.#e}-step-btn-wrpr`,e);validateForm({input:t.target},{otherOptions:{validateOnInput:!0}})?this.#D("bc-grid-hide",s):s.classList.contains("bc-grid-hide")||this.#W("bc-grid-hide",s)}}))})),this.#p.forEach((t=>{this.#E("change",t,(t=>{if("undefined"!=typeof validateForm){const e=this.#x(`.bc${this.#e}-step-wrapper`,t.target),s=this.#L(`.bc${this.#e}-step-btn-wrpr`,e);validateForm({input:t.target})?this.#D("bc-grid-hide",s):s.classList.contains("bc-grid-hide")||this.#W("bc-grid-hide",s)}}))})),this.#E("keydown",this.#S,(t=>{if(t.keyCode>=65&&t.keyCode<=90){const e=t.keyCode-65,s=this.#a[this.#u],i=this.#A(`.bc${this.#e}-ci`,s);if(i.length>0){const t=i[e];t&&(this.#F(t,"checked",!0),t.focus())}}}))}#P(t){let e=-1;return this.#a.forEach(((s,i)=>{s.classList.contains(t)&&(e=i)})),e}#y(){const t=this.#a[this.#a.length-1],e=this.#L(`.bc${this.#e}-btn-ok`,t);if(e){e.textContent="Submit";const t=document.createElement("span");t.classList.add("bf-spinner","d-none"),e.appendChild(t),this.#F(e,"type","submit")}}get activeFieldStep(){return this.#m}set activeFieldStep(t){this.#m=t;const e=this.#P(`bc${this.#e}-${t}`);-1!==e&&this.#I(e)}#x(t,e){return e.closest(t)}#L(t,e=document){return e.querySelector(t)}#A(t,e=document){return e.querySelectorAll(t)}#F(t,e,s=""){t?.setAttribute?.(e,s)}#B(t,e){t?.removeAttribute?.(e)}#W(t,e){e.classList.add(t)}#D(t,e){e.classList.remove(t)}#U(t,e){e.classList.toggle(t)}#E(t,e,s){e.addEventListener(t,s),this.#f.push({element:e,event:t,callback:s})}}return function(){Object.keys(window?.bf_globals||{}).forEach((e=>{const s=window.bf_globals[e],i=s.formInfo?.conversationalSettings;if(i?.enable){const{formId:n}=s,r=bfSelect(`#form-${e}`),a=bfSelect(`.bc${n}-steps-container`,r);if(!a)return;s.inits.conversational_form=new t(a,{contentId:e,formId:n,...i})}}))}}();var handleConversationalFormMsg=function(){"use strict";return function(e){const s=bfSelect(`#${e.contentId}`),c=bfSelect(`#bc-form-msg-wrp-${e.contentId}`);if(!c)return!1;c.innerHTML=`<div class="bc-form-msg bc-step-deactive ${e.type} scroll">${e.msg}</div>`;const t=bfSelect(".bc-form-msg",c);return"error"===e.type&&(t.classList.add("error"),t.classList.replace("bc-step-deactive","bc-step-fade-up")),"success"===e.type&&(t.classList.add("success"),t.classList.replace("bc-step-deactive","bc-step-fade-up"),s.innerHTML=c.outerHTML),!0}}();var checkFldValidation=function(){"use strict";return(e,i)=>i?.opt?.find((i=>i.req&&!(e||[]).includes(i.val||i.lbl)))?"req":""}();var emailFldValidation=function(){"use strict";return(e,t)=>t.err.invalid.show?new RegExp(generateBackslashPattern(t.pattern)).test(e)?"":"invalid":""}();var validateForm=function(){"use strict";let e,t,i={},n=[];const r=t=>window?.bf_globals?.[e].inits?.[t],o=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const r=Object.entries(t);for(let e=0;e<r.length;e+=1){const[t,o]=r[e];if(o?.fieldName===n)return i[n]=t,t}return""},l=()=>{const n=new FormData(bfSelect(`#form-${e}`)),r={},l=Array.from(n.entries());return i={},l.forEach((([e,i])=>{const n=o(e),l=e.replace("[]","");n in t&&(r[l]?(Array.isArray(r[l])||(r[l]=[r[l]]),r[l].push(i)):r[l]=i)})),r},d=(t,i,r,o="")=>{const l=bfSelect(`#form-${e} ${o} .${i}-err-wrp`),d=bfSelect(`.${i}-err-txt`,l),a=bfSelect(`.${i}-err-msg`,l);let s=!1;try{s="grid"===getComputedStyle(l).display,s&&(l.style.removeProperty("opacity"),l.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){s=!1}d&&"err"in(r||{})&&(t&&r?.err?.[t]?.show?(d.innerHTML=r.err[t].custom?r.err[t].msg:r.err[t].dflt,s?setStyleProperty(l,"grid-template-rows","1fr"):setTimeout((()=>{a.style.removeProperty("display"),setStyleProperty(l,"height",`${d.offsetHeight}px`),setStyleProperty(l,"opacity",1)}),100),n.push(i)):(d.innerHTML="",s?setStyleProperty(l,"grid-template-rows","0fr"):(setStyleProperty(l,"height",0),setStyleProperty(l,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:s,otherOptions:f}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const c=window?.bf_globals?.[e];if(void 0===c)return!1;let p={};n=[];const u=c.configs.bf_separator;if(s){let e=c.layout[s-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map((e=>e.i)),n=c.nestedLayout||{};Object.entries(n).forEach((([e,t])=>{if(i.includes(e)){const e=t.lg.map((e=>e.i));i.push(...e)}})),t=i.reduce(((e,t)=>({...e,[t]:c.fields[t]})),{})}else t=c.fields;const{modifiedFields:y}=c;if(y&&Object.assign(t,y),i)p=l();else if(a){if(!c.validateFocusLost&&!f?.validateOnInput)return!0;const e=o(a.name);p=l(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,c);n=getRepeatedIndexes(e,c,a)}for(let o=0;o<n.length;o+=1){const l=n[o],a=l?`${i.fieldName}[${l}]`:i.fieldName,s=l?`.rpt-index-${l}`:"",f=i.typ,c="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${s} .${t}.fld-hide`)){d("",t,i,s);continue}let y="";"check"===f&&(y="undefined"!=typeof checkFldValidation?checkFldValidation(c,i):""),"check"!==f&&"radio"!==f||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),c||y||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),d(y,t,i,s),y?m=!1:c&&("number"===f&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(c,i):"email"===f&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(c,i):"url"===f&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(c,i):"decision-box"===f&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(c,i):["check","select","image-select"].includes(f)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(c,i,u):"range"===f&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(c,i):"file-up"===f&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(c,i):"advanced-file-up"===f&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(r(t),i):"phone-number"===f&&"undefined"!=typeof phoneNumberFldValidation&&(y=phoneNumberFldValidation(r(t),i)),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(c,i):null),d(y,t,i,s),y&&(m=!1))}}return moveToFirstErrFld(c,n),m}}();var bitform_init=function(){"use strict";function e(e=null){"undefined"!=typeof hidden_token_field&&hidden_token_field(e),"undefined"!=typeof initAllCustomFlds&&initAllCustomFlds(e),"undefined"!=typeof initAddOtherOpt&&initAddOtherOpt(e),"undefined"!=typeof setSliderFieldValue&&setSliderFieldValue(e),"undefined"!=typeof initCheckDisableOnMax&&initCheckDisableOnMax(e),"undefined"!=typeof validate_focus&&validate_focus(e),"undefined"!=typeof submit_form&&submit_form(e),"undefined"!=typeof bit_form_abandonment&&bit_form_abandonment(e),"undefined"!=typeof setFieldValues&&setFieldValues(e),"undefined"!=typeof bit_multi_step_form&&bit_multi_step_form(e),"undefined"!=typeof bit_conversational_form&&bit_conversational_form(e)}return document.addEventListener("DOMContentLoaded",(()=>{e()})),e}();let bfContentId="",bfSlNo="1",bfVars="";